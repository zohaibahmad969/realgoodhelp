jQuery(document).ready((function(){var e=0,t=0,n=0,o=new Array,r=document.getElementsByClassName("current-que");r=r[0];var s=document.getElementsByClassName("que-list-main");function l(){for(var e=document.getElementsByClassName("show_cards"),t=1,n=0;n<e.length;n++)0==n?t=2:1==n?t=1:2==n&&(t=3),e[n].style.order=t}function i(e){var t=document.getElementsByClassName("current-que");t=t[0],e.addEventListener("pointerdown",c);var n=t.getAttribute("data-id");document.getElementById("current_save_profile").setAttribute("data-lesson",n),document.getElementById("current_back_btn").setAttribute("data-lesson",n),htmlque_first_post_id==n?(document.getElementById("current_back_btn").style.opacity="0.5",document.getElementById("current_back_btn").style.cursor="inherit"):(document.getElementById("current_back_btn").style.opacity="1",document.getElementById("current_back_btn").style.cursor="pointer");const o=document.querySelector(".current_save_profile"),r=window.localStorage.getItem("saved_lessons");-1!=(r?JSON.parse(r):[]).findIndex((e=>e==n))?(o.classList.add("saved"),document.getElementById("current_save_profile_btn").setAttribute("src",wellbeingAjax.save_cancel_icon)):document.getElementById("current_save_profile_btn").setAttribute("src",wellbeingAjax.save_icon)}function d(e,t,n,o){var r=document.getElementsByClassName("current-que");(r=r[0]).style.transform=`translate3d(${e}px, ${t}px, 0) rotate(${n}deg)`,"undefined"!=typeof likeText&&(likeText.style.opacity=Math.abs(e/innerWidth*2.1),likeText.className="is-like "+(e>0?"like":"nope")),o&&(r.style.transition=`transform ${o}ms`)}function c({clientX:e,clientY:t}){startX=e,startY=t;var n=document.getElementsByClassName("current-que");(n=n[0]).addEventListener("pointermove",a),n.addEventListener("pointerup",u),n.addEventListener("pointerleave",u)}function a({clientX:n,clientY:o}){var r=document.getElementsByClassName("current-que");r=r[0],e=n-startX,(t=o-startY)<=-10?d(0,-300,0,innerWidth):d(e,t,e/innerWidth*50)}function u(){var n=document.getElementsByClassName("current-que");(n=n[0]).removeEventListener("pointermove",a),n.removeEventListener("pointerup",u),n.removeEventListener("pointerleave",u);var o=8;s[0].clientWidth<=655&&(o=50),Math.abs(e)>s[0].clientWidth/o?(n.removeEventListener("pointerdown",c),v(),e=0):t<=-10?(e=0,t=0,v()):p()}function m(e){const t=e.querySelectorAll(".js-main-quest"),n=window.localStorage.getItem("themes_suggest"),o=n?JSON.parse(n):{};t.forEach((e=>{const t=e.dataset.answer;if(e.querySelector(".radio:checked")){const n=e.querySelector(".radio:checked"),r=n.value,s=n.name;o[s]=t==r?"yes":"no"}}))}function y(e){const t=e.querySelectorAll(".js-sec-quest"),n=window.localStorage.getItem("lessons_answer"),o=n?JSON.parse(n):{};t.forEach((e=>{const t=e.querySelector(".radio:checked"),n=t.value,r=t.name;o[r]=n})),window.localStorage.setItem("lessons_answer",JSON.stringify(o))}function p(){d(0,0,0,100),setTimeout((()=>r.style.transition=""),100)}function v(){var s="";document.querySelector(".noneed")&&document.querySelector(".noneed").remove();for(var c=document.getElementsByClassName("que-img"),a=0;a<c.length;a++)c[a].style.display="";var u=document.getElementsByClassName("play-btn");for(a=0;a<u.length;a++)u[a].style.display="";var p=document.getElementsByClassName("que-video");for(a=0;a<p.length;a++)p[a].style.display="none";var v=document.getElementsByClassName("que-video-player");for(a=0;a<v.length;a++)v[a].setAttribute("src","");if(-2==e){var q=0;if(document.querySelector(".tunnel__form")&&document.querySelector(".tunnel__button2")){if(q=document.querySelector(".tunnel__form").querySelectorAll(".que-list-box").length,n==q);else{var g=o[o.length-1];const e=document.getElementById("que-list-main");!function(){for(var e=document.getElementsByClassName("que-list-box"),t=0;t<e.length;t++)e[t].classList.remove("show_cards"),e[t].classList.remove("hide_cards"),e[t].classList.remove("current-que"),e[t].style="",0==t?(e[t].style.order=1,e[t].classList.add("show_cards")):1==t?(e[t].style.order=3,e[t].classList.add("show_cards")):e[t].classList.add("hide_cards")}(),e.insertBefore(g,e.children[0]);var _=document.getElementsByClassName("current-que");i(_=_[0]),setTimeout((function(){_.style.transform="translate3d(0px, 0px, 0px) rotate(0deg)",_.style.transition="transform 500ms",setTimeout((function(){S()}),100)}),1),o.pop()}}}else{if(0==e&&0==t){d(E=0,-3e3,0,innerWidth);var f="unknow"}else{var E;f="no";(E=Math.abs(e)/e*innerWidth*1.3)>0&&(f="yes"),d(E,t/e*E,E/innerWidth*50,innerWidth)}r.previousElementSibling;(function(e){var t=document.querySelector(".current-que").getAttribute("data-post");if(""!=e&&""!=t)try{document.getElementById(t+"-"+e).checked=!0}catch(e){console.log(e)}})(f),setTimeout((function(){var e=document.querySelector(".current-que");o.push(e),function(){document.querySelector(".current-que").remove();for(var e=document.getElementsByClassName("que-list-box"),t=0;t<e.length;t++)if(t<3){if(0==t){e[t].classList.add("current-que");var n=e[t].getAttribute("data-id");document.getElementById("que-img-"+n).classList.add("current-que-img"),document.getElementById("que-play-"+n).classList.add("current-que-play")}e[t].classList.add("show_cards"),e[t].classList.remove("hide_cards")}l(),document.querySelector(".current-que")&&i(document.getElementsByClassName("current-que")[0])}();var t=document.querySelectorAll(".que-list-box");if(1==t.length?(s='<div class="que-list-box width-33 show_cards noneed" style="order:1"><div class="que-list-inner"><div class="que-img-que"></div></div></div><div class="que-list-box width-33 show_cards noneed" style="order:3"><div class="que-list-inner"><div class="que-img-que"></div></div></div>',document.getElementById("que-list-main").innerHTML+=s):2==t.length&&(s='<div class="que-list-box width-33 show_cards noneed" style="order:3"><div class="que-list-inner"><div class="que-img-que"></div></div></div>',document.getElementById("que-list-main").innerHTML+=s),document.querySelector(".current-que")){var n=document.getElementsByClassName("current-que");i(n=n[0]),setTimeout((function(){S()}),100)}}),500),setTimeout((function(){const e=document.querySelector(".tunnel__form"),t=e.querySelectorAll(".form-question__variants"),n=(e.querySelectorAll(".radio"),e.querySelector(".tunnel__button2"));let o=checkTunnelForm(t);if(n.disabled=o,n.disabled)document.getElementById("que_list_sec").style.display="",n.disabled,document.getElementById("tunnel__button2").style.display="none",document.getElementById("finished_info").style.display="none";else{n.addEventListener("click",(()=>{y(e),m(e),document.getElementById("que_list_sec").style.display="none",document.getElementById("tunnel__button2").style.display="none",document.getElementById("finished_info").style.display=""}));var r=document.getElementById("tunnel__button2");"function"==typeof r.click?r.click():"function"==typeof r.onclick&&r.onclick()}}),600)}}function q(e){e.target.closest(".popup_profile__body")||(document.querySelector(".video-popup-new").classList.remove("show"),document.getElementById("popup_category_video_link").setAttribute("src",""),window.removeEventListener("click",q))}function g(){if(!this.parentElement.parentElement.parentElement.classList.contains("current-que"))return!1;var e=this.dataset.datayoutube,t=this.dataset.dataid,n=this.clientHeight,o="?autoplay=1";e.indexOf("?")>=0&&(o="&autoplay=1"),e+=o,document.getElementById("que-img-"+t).style.display="none",document.getElementById("que-question-"+t).style.display="none",document.getElementById("que-play-"+t).style.display="none",document.getElementById("que-video-"+t).style.display="",document.getElementById("que-video-player-"+t).setAttribute("src",e),document.getElementById("que-video-player-"+t).style.height=n+"px"}function _(){if(!this.parentElement.parentElement.parentElement.classList.contains("current-que"))return!1;var e=this.dataset.datayoutube,t=this.dataset.dataid,n="?autoplay=1";e.indexOf("?")>=0&&(n="&autoplay=1"),e+=n,document.getElementById("que-img-"+t).style.display="none",document.getElementById("que-question-"+t).style.display="none",document.getElementById("que-play-"+t).style.display="none",document.getElementById("que-video-"+t).style.display="",document.getElementById("que-video-player-"+t).setAttribute("src",e)}function f(){if(!this.parentElement.parentElement.parentElement.classList.contains("current-que"))return!1;document.querySelector(".video-popup-new").classList.add("show");var e=this.dataset.dataid,t=this.dataset.datatitle,n=this.dataset.datayoutube,o="?autoplay=1";n.indexOf("?")>=0&&(o="&autoplay=1"),n+=o,document.getElementById("popup_category_video_link").setAttribute("src",n),document.getElementById("popup_category_title").innerHTML=t;var r=document.getElementById("data_text_"+e).innerHTML;document.getElementById("popup_category_text").innerHTML=r;var s=document.getElementById("data_list_"+e).innerHTML;document.getElementById("cond_list").innerHTML=s;var l=document.getElementById("data_other_"+e).innerHTML;document.getElementById("data_other").innerHTML=l,document.getElementById("other-resources").style.display=""==l?"none":"",Array.from(document.querySelectorAll(".other-resource-img")).forEach((e=>{e.dataset.dataid=e.getAttribute("dataid"),e.dataset.dataindex=e.getAttribute("dataindex"),e.dataset.datatitle=e.getAttribute("title"),e.dataset.datayoutube=e.getAttribute("datayoutube"),e.addEventListener("click",(function(){var e=this.dataset.dataid,t=this.dataset.dataindex,n=this.dataset.datatitle,o=this.dataset.datayoutube,r="?autoplay=1";o.indexOf("?")>=0&&(r="&autoplay=1"),o+=r,document.getElementById("popup_category_video_link").setAttribute("src",o),document.getElementById("popup_category_title").innerHTML=n;var s=document.getElementById("data_other_resource_"+t+"_"+e).innerHTML;document.getElementById("popup_category_text").innerHTML=s,document.body.scrollTop=0,setTimeout((function(){window.addEventListener("click",q)}),200)}))})),window.removeEventListener("click",q),setTimeout((function(){window.addEventListener("click",q)}),200)}function E(){var e=this.dataset.dataid;document.getElementById("que-img-"+e).style.display="",document.getElementById("que-question-"+e).style.display="",document.getElementById("que-play-"+e).style.display="",document.getElementById("que-video-"+e).style.display="none",document.getElementById("que-video-player-"+e).setAttribute("src","")}function h(){document.querySelector(".video-popup-new").classList.remove("show"),document.getElementById("popup_category_video_link").setAttribute("src","")}function b(){document.querySelector(".first_video").classList.remove("show"),document.getElementById("first_video_link").setAttribute("src","")}function B(){document.querySelector(".finished_profile").classList.remove("show")}function S(){document.querySelector(".que-img")&&(Array.from(document.querySelectorAll(".que-img")).forEach((e=>{e.removeEventListener("click",g)})),Array.from(document.querySelectorAll(".que-img")).forEach((e=>{e.dataset.datayoutube=e.getAttribute("datayoutube"),e.dataset.dataid=e.getAttribute("dataid");var t=e.clientHeight;document.getElementById("que-video-player-"+e.dataset.dataid).style.height=t+"px",e.addEventListener("click",g)}))),document.querySelector(".play-btn")&&(Array.from(document.querySelectorAll(".play-btn")).forEach((e=>{e.removeEventListener("click",_)})),Array.from(document.querySelectorAll(".play-btn")).forEach((e=>{e.dataset.datayoutube=e.getAttribute("datayoutube"),e.dataset.dataid=e.getAttribute("dataid"),e.addEventListener("click",_)}))),document.querySelector(".questionclick")&&(Array.from(document.querySelectorAll(".questionclick")).forEach((e=>{e.removeEventListener("click",f)})),Array.from(document.querySelectorAll(".questionclick")).forEach((e=>{e.dataset.dataid=e.getAttribute("dataid"),e.dataset.datatitle=e.getAttribute("datatitle"),e.dataset.datatext=e.getAttribute("datatext"),e.dataset.datayoutube=e.getAttribute("datayoutube"),e.addEventListener("click",f)}))),document.querySelector(".que-video-close")&&(Array.from(document.querySelectorAll(".que-video-close")).forEach((e=>{e.removeEventListener("click",E)})),Array.from(document.querySelectorAll(".que-video-close")).forEach((e=>{e.dataset.dataid=e.getAttribute("dataid"),e.addEventListener("click",E)}))),document.querySelector(".close-video-popup-new")&&(Array.from(document.querySelectorAll(".close-video-popup-new")).forEach((e=>{e.removeEventListener("click",h)})),Array.from(document.querySelectorAll(".close-video-popup-new")).forEach((e=>{e.addEventListener("click",h)}))),document.querySelector(".first_profile_close")&&(Array.from(document.querySelectorAll(".first_profile_close")).forEach((e=>{e.removeEventListener("click",b)})),Array.from(document.querySelectorAll(".first_profile_close")).forEach((e=>{e.addEventListener("click",b)}))),document.querySelector(".finished_profile_close")&&(Array.from(document.querySelectorAll(".finished_profile_close")).forEach((e=>{e.removeEventListener("click",B)})),Array.from(document.querySelectorAll(".finished_profile_close")).forEach((e=>{e.addEventListener("click",B)})))}if(S(),document.querySelector(".suggestion__form2")&&function(){const e=document.querySelector(".suggestion__form2");e.addEventListener("submit",(t=>async function(e,t){e.preventDefault(),document.documentElement.classList.add("loading");const n=new FormData(t);n.append("action","suggestion"),fetch(wellbeingAjax.ajaxurl,{method:"POST",body:n}).then((e=>{t.reset()})).then((e=>{!function(e){if(isAnimated)return;isAnimated=!0,setTimeout((()=>isAnimated=!1),HOVERTIME),document.querySelector(".video-popup-new").classList.remove("show");const t=document.querySelector(`.${e}__popup`),n=t.querySelector(".close-button");function o(e){e.target.closest(".popup__body")||r()}function r(){isAnimated||(isAnimated=!0,setTimeout((()=>isAnimated=!1),HOVERTIME),window.removeEventListener("click",o),n&&n.removeEventListener("click",r),t.classList.contains("video-popup")&&popupVideo(t,"pause"),unlockScroll(),t.classList.remove("show"))}lockScroll(),t.classList.add("show"),t.classList.contains("video-popup")&&popupVideo(t,"play"),window.addEventListener("click",o),n&&n.addEventListener("click",r)}("success")})).then((e=>{document.documentElement.classList.remove("loading")})).catch((e=>{console.error("Error:",e)}))}(t,e)))}(),document.querySelector(".show_cards")&&l(),void 0!==r){r.children[0];i(r)}if(document.querySelector(".yes-swipe-right")&&(document.querySelector(".yes-swipe-right").onclick=()=>{e=1,t=0,v()}),document.querySelector(".no-swipe-left")&&(document.querySelector(".no-swipe-left").onclick=()=>{e=-1,t=0,v()}),document.querySelector(".idk-swipe-up")&&(document.querySelector(".idk-swipe-up").onclick=()=>{e=0,t=0,v()}),document.querySelector(".back-btn")&&(document.querySelector(".back-btn").onclick=n=>{e=-2,t=0,v(),setTimeout((function(){var e=document.getElementsByClassName("back-btn"),t=(e=e[0]).getAttribute("data-lesson");document.getElementById("que-img-"+t).style.display="",document.getElementById("que-question-"+t).style.display="",document.getElementById("que-play-"+t).style.display="",document.getElementById("que-video-"+t).style.display="none",document.getElementById("que-video-player-"+t).setAttribute("src","")}),500)}),document.querySelector(".tunnel__form")){document.querySelector(".tunnel__form").querySelectorAll(".form-question__variants").forEach((e=>{e.querySelector(".radio")&&n++}))}if(document.querySelector(".tunnel__form")&&document.querySelector(".tunnel__button2")){const e=document.querySelector(".tunnel__form"),t=e.querySelector(".tunnel__button2"),n=e.querySelectorAll(".form-question__variants");let o=checkTunnelForm(n);if(t.disabled=o,t.disabled||(document.getElementById("tunnel__button2").style.display="none"),t.disabled?(document.getElementById("que_list_sec").style.display="",document.getElementById("finished_info").style.display="none",document.getElementById("tunnel__button2").style.display="none"):(document.getElementById("que_list_sec").style.display="none",document.getElementById("finished_info").style.display="",document.getElementById("tunnel__button2").style.display="none",t.addEventListener("click",(()=>{y(e),m(e)}))),document.querySelector(".que-list-box")){var A=document.querySelectorAll(".que-list-box");1==A.length?(cardlist_noneed_html='<div class="que-list-box width-33 show_cards noneed" style="order:1"><div class="que-list-inner"><div class="que-img-que"></div></div></div><div class="que-list-box width-33 show_cards noneed" style="order:3"><div class="que-list-inner"><div class="que-img-que"></div></div></div>',document.getElementById("que-list-main").innerHTML+=cardlist_noneed_html):2==A.length&&(cardlist_noneed_html='<div class="que-list-box width-33 show_cards noneed" style="order:3"><div class="que-list-inner"><div class="que-img-que"></div></div></div>',document.getElementById("que-list-main").innerHTML+=cardlist_noneed_html)}}}));